<template>
  <div class="lab-html-basics p-6 max-w-5xl mx-auto">
    <h1 class="text-3xl font-bold text-sakura-600 dark:text-sakura-400 mb-4">
      ğŸŒ HTMLåŸºç¡€ - ç½‘é¡µéª¨æ¶
    </h1>
    
    <p class="text-lg text-gray-700 dark:text-gray-300 mb-6">
      HTML (HyperText Markup Language) æ˜¯æ„å»ºç½‘é¡µçš„åŸºç¡€è¯­è¨€ã€‚æƒ³è±¡ä¸€ä¸‹ï¼šå¦‚æœç½‘é¡µæ˜¯ä¸€æ ‹æˆ¿å­ï¼ŒHTMLå°±æ˜¯å®ƒçš„æ¡†æ¶å’Œç»“æ„ã€‚
    </p>

    <!-- å­¦ä¹ è·¯å¾„å¯¼èˆª -->
    <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-4 mb-6 rounded-r">
      <p class="text-sm text-blue-800 dark:text-blue-300">
        <strong>ğŸ“ ä½ ç°åœ¨çš„ä½ç½®ï¼š</strong>ç¬¬1é˜¶æ®µ - WebåŸºç¡€ â†’ HTMLåŸºç¡€
      </p>
      <p class="text-sm text-blue-700 dark:text-blue-400 mt-1">
        <strong>â±ï¸ é¢„è®¡å­¦ä¹ æ—¶é—´ï¼š</strong>30-45åˆ†é’Ÿ
      </p>
    </div>

    <!-- å†…å®¹é€‰é¡¹å¡ -->
    <div class="tabs flex gap-2 mb-6 border-b border-gray-200 dark:border-gray-700">
      <button 
        v-for="tab in tabs" 
        :key="tab.id"
        @click="activeTab = tab.id"
        class="px-4 py-2 font-medium transition-colors rounded-t"
        :class="activeTab === tab.id 
          ? 'bg-sakura-100 dark:bg-sakura-900/30 text-sakura-600 dark:text-sakura-400 border-b-2 border-sakura-500' 
          : 'text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800'"
      >
        {{ tab.label }}
      </button>
    </div>

    <!-- ç†è®ºè®²è§£ -->
    <div v-show="activeTab === 'theory'" class="space-y-6">
      <section>
        <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200 mb-3">ä»€ä¹ˆæ˜¯HTMLï¼Ÿ</h2>
        <p class="text-gray-700 dark:text-gray-300 mb-4">
          HTMLä½¿ç”¨"æ ‡ç­¾"(Tags)æ¥æ ‡è®°ç½‘é¡µå†…å®¹ã€‚æ ‡ç­¾å‘Šè¯‰æµè§ˆå™¨ï¼š"è¿™æ˜¯æ ‡é¢˜"ã€"è¿™æ˜¯æ®µè½"ã€"è¿™æ˜¯å›¾ç‰‡"ç­‰ç­‰ã€‚
        </p>
        
        <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg">
          <pre class="text-sm"><code>&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½&lt;/p&gt;
&lt;h1&gt;è¿™æ˜¯ä¸€ä¸ªå¤§æ ‡é¢˜&lt;/h1&gt;
&lt;img src="photo.jpg" alt="æˆ‘çš„ç…§ç‰‡"&gt;</code></pre>
        </div>
      </section>

      <section>
        <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200 mb-3">HTMLæ–‡æ¡£ç»“æ„</h2>
        <p class="text-gray-700 dark:text-gray-300 mb-4">
          æ¯ä¸ªHTMLæ–‡æ¡£éƒ½æœ‰å›ºå®šçš„åŸºæœ¬ç»“æ„ï¼š
        </p>
        
        <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg">
          <pre class="text-sm"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;ç½‘é¡µæ ‡é¢˜&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;!-- ç½‘é¡µå†…å®¹å†™åœ¨è¿™é‡Œ --&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
        </div>
        
        <ul class="mt-4 space-y-2 text-gray-700 dark:text-gray-300">
          <li><code class="bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded">&lt;!DOCTYPE html&gt;</code> - å‘Šè¯‰æµè§ˆå™¨è¿™æ˜¯HTML5æ–‡æ¡£</li>
          <li><code class="bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded">&lt;html&gt;</code> - æ ¹å…ƒç´ ï¼ŒåŒ…å«æ•´ä¸ªç½‘é¡µ</li>
          <li><code class="bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded">&lt;head&gt;</code> - é¡µé¢å…ƒä¿¡æ¯ï¼ˆæ ‡é¢˜ã€ç¼–ç ç­‰ï¼‰</li>
          <li><code class="bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded">&lt;body&gt;</code> - é¡µé¢å¯è§å†…å®¹</li>
        </ul>
      </section>

      <section>
        <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200 mb-3">å¸¸ç”¨æ ‡ç­¾é€Ÿè§ˆ</h2>
        
        <div class="grid md:grid-cols-2 gap-4">
          <div class="border border-gray-200 dark:border-gray-700 p-4 rounded-lg">
            <h3 class="font-bold text-sakura-600 dark:text-sakura-400 mb-2">æ–‡æœ¬ç±»</h3>
            <ul class="space-y-1 text-sm text-gray-700 dark:text-gray-300">
              <li><code>&lt;h1&gt; ~ &lt;h6&gt;</code> - æ ‡é¢˜ï¼ˆ1æœ€å¤§ï¼Œ6æœ€å°ï¼‰</li>
              <li><code>&lt;p&gt;</code> - æ®µè½</li>
              <li><code>&lt;strong&gt;</code> - åŠ ç²—å¼ºè°ƒ</li>
              <li><code>&lt;em&gt;</code> - æ–œä½“å¼ºè°ƒ</li>
              <li><code>&lt;br&gt;</code> - æ¢è¡Œ</li>
            </ul>
          </div>
          
          <div class="border border-gray-200 dark:border-gray-700 p-4 rounded-lg">
            <h3 class="font-bold text-sakura-600 dark:text-sakura-400 mb-2">é“¾æ¥ä¸åª’ä½“</h3>
            <ul class="space-y-1 text-sm text-gray-700 dark:text-gray-300">
              <li><code>&lt;a href="url"&gt;</code> - è¶…é“¾æ¥</li>
              <li><code>&lt;img src="url"&gt;</code> - å›¾ç‰‡</li>
              <li><code>&lt;video&gt;</code> - è§†é¢‘</li>
              <li><code>&lt;audio&gt;</code> - éŸ³é¢‘</li>
            </ul>
          </div>
          
          <div class="border border-gray-200 dark:border-gray-700 p-4 rounded-lg">
            <h3 class="font-bold text-sakura-600 dark:text-sakura-400 mb-2">åˆ—è¡¨ç±»</h3>
            <ul class="space-y-1 text-sm text-gray-700 dark:text-gray-300">
              <li><code>&lt;ul&gt;</code> - æ— åºåˆ—è¡¨</li>
              <li><code>&lt;ol&gt;</code> - æœ‰åºåˆ—è¡¨</li>
              <li><code>&lt;li&gt;</code> - åˆ—è¡¨é¡¹</li>
            </ul>
          </div>
          
          <div class="border border-gray-200 dark:border-gray-700 p-4 rounded-lg">
            <h3 class="font-bold text-sakura-600 dark:text-sakura-400 mb-2">å®¹å™¨ç±»</h3>
            <ul class="space-y-1 text-sm text-gray-700 dark:text-gray-300">
              <li><code>&lt;div&gt;</code> - å—çº§å®¹å™¨</li>
              <li><code>&lt;span&gt;</code> - è¡Œå†…å®¹å™¨</li>
              <li><code>&lt;section&gt;</code> - ç« èŠ‚</li>
              <li><code>&lt;article&gt;</code> - æ–‡ç« </li>
            </ul>
          </div>
        </div>
      </section>
    </div>

    <!-- å®æˆ˜ç»ƒä¹  -->
    <div v-show="activeTab === 'practice'" class="space-y-6">
      <section>
        <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200 mb-3">âœï¸ åŠ¨æ‰‹ç»ƒä¹ ï¼šåˆ¶ä½œä¸ªäººç®€ä»‹é¡µ</h2>
        <p class="text-gray-700 dark:text-gray-300 mb-4">
          åœ¨ä¸‹é¢çš„ç¼–è¾‘å™¨ä¸­ï¼Œç¼–å†™HTMLä»£ç åˆ›å»ºä¸€ä¸ªç®€å•çš„ä¸ªäººç®€ä»‹é¡µé¢ã€‚å³ä¾§ä¼šå®æ—¶é¢„è§ˆæ•ˆæœã€‚
        </p>

        <div class="grid md:grid-cols-2 gap-4">
          <!-- HTMLç¼–è¾‘å™¨ -->
          <div>
            <h3 class="font-bold mb-2 text-gray-800 dark:text-gray-200">HTMLä»£ç </h3>
            <textarea 
              v-model="htmlCode"
              class="w-full h-96 p-4 font-mono text-sm bg-gray-900 text-green-400 rounded-lg border border-gray-700"
              placeholder="åœ¨è¿™é‡Œå†™HTML..."
            ></textarea>
          </div>

          <!-- é¢„è§ˆåŒºåŸŸ -->
          <div>
            <h3 class="font-bold mb-2 text-gray-800 dark:text-gray-200">å®æ—¶é¢„è§ˆ</h3>
            <div 
              class="w-full h-96 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700 overflow-auto"
              v-html="htmlCode"
            ></div>
          </div>
        </div>

        <div class="mt-4 bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 p-4 rounded-r">
          <p class="text-sm text-green-800 dark:text-green-300">
            <strong>ğŸ’¡ ä»»åŠ¡è¦æ±‚ï¼š</strong>
          </p>
          <ul class="text-sm text-green-700 dark:text-green-400 mt-2 space-y-1 ml-4">
            <li>1. ä½¿ç”¨ <code>&lt;h1&gt;</code> æ˜¾ç¤ºä½ çš„åå­—</li>
            <li>2. ä½¿ç”¨ <code>&lt;p&gt;</code> å†™ä¸€æ®µè‡ªæˆ‘ä»‹ç»</li>
            <li>3. ä½¿ç”¨ <code>&lt;ul&gt;</code> åˆ—å‡ºä½ çš„3ä¸ªçˆ±å¥½</li>
            <li>4. ä½¿ç”¨ <code>&lt;a&gt;</code> æ·»åŠ ä¸€ä¸ªæŒ‡å‘ä½ å–œæ¬¢çš„ç½‘ç«™çš„é“¾æ¥</li>
          </ul>
        </div>
      </section>
    </div>

    <!-- ç¤ºä¾‹ä»£ç  -->
    <div v-show="activeTab === 'examples'" class="space-y-6">
      <section>
        <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200 mb-3">ğŸ“ å®Œæ•´ç¤ºä¾‹</h2>
        
        <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg">
          <pre class="text-sm overflow-x-auto"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;å¼ ä¸‰çš„ä¸ªäººä¸»é¡µ&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ ä¸‰&lt;/h1&gt;
  
  &lt;h2&gt;å…³äºæˆ‘&lt;/h2&gt;
  &lt;p&gt;æˆ‘æ˜¯ä¸€åå‰ç«¯å¼€å‘å­¦ä¹ è€…ï¼Œçƒ­çˆ±ç¼–ç¨‹å’Œè®¾è®¡ã€‚&lt;/p&gt;
  
  &lt;h2&gt;æˆ‘çš„çˆ±å¥½&lt;/h2&gt;
  &lt;ul&gt;
    &lt;li&gt;ç¼–ç¨‹&lt;/li&gt;
    &lt;li&gt;é˜…è¯»&lt;/li&gt;
    &lt;li&gt;æ—…è¡Œ&lt;/li&gt;
  &lt;/ul&gt;
  
  &lt;h2&gt;è”ç³»æˆ‘&lt;/h2&gt;
  &lt;p&gt;
    è®¿é—®æˆ‘çš„ &lt;a href="https://github.com"&gt;GitHub&lt;/a&gt;
  &lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
        </div>
      </section>
    </div>

    <!-- æµ‹éªŒ -->
    <div v-show="activeTab === 'quiz'" class="space-y-6">
      <section>
        <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200 mb-3">ğŸ¯ çŸ¥è¯†æ£€éªŒ</h2>
        
        <div v-for="(q, idx) in quizQuestions" :key="idx" class="mb-6 p-4 border border-gray-200 dark:border-gray-700 rounded-lg">
          <p class="font-bold mb-3 text-gray-800 dark:text-gray-200">{{ idx + 1 }}. {{ q.question }}</p>
          <div class="space-y-2">
            <label 
              v-for="(option, optIdx) in q.options" 
              :key="optIdx"
              class="flex items-center gap-2 p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer"
            >
              <input 
                type="radio" 
                :name="`quiz-${idx}`" 
                :value="optIdx"
                v-model="userAnswers[idx]"
                class="text-sakura-500"
              >
              <span class="text-gray-700 dark:text-gray-300">{{ option }}</span>
            </label>
          </div>
          
          <div v-if="showResults && userAnswers[idx] !== undefined" class="mt-3">
            <p v-if="userAnswers[idx] === q.correct" class="text-green-600 dark:text-green-400 font-bold">
              âœ… æ­£ç¡®ï¼
            </p>
            <p v-else class="text-red-600 dark:text-red-400 font-bold">
              âŒ é”™è¯¯ã€‚æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š{{ q.options[q.correct] }}
            </p>
          </div>
        </div>

        <button 
          @click="checkAnswers"
          class="px-6 py-2 bg-sakura-500 hover:bg-sakura-600 text-white rounded-lg transition-colors font-bold"
        >
          {{ showResults ? 'é‡æ–°æµ‹éªŒ' : 'æäº¤ç­”æ¡ˆ' }}
        </button>

        <div v-if="showResults" class="mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
          <p class="text-lg font-bold text-blue-800 dark:text-blue-300">
            å¾—åˆ†ï¼š{{ score }} / {{ quizQuestions.length }}
          </p>
        </div>
      </section>
    </div>

    
  </div>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue';

const tabs = [
  { id: 'theory', label: 'ğŸ“– ç†è®ºè®²è§£' },
  { id: 'practice', label: 'âœï¸ å®æˆ˜ç»ƒä¹ ' },
  { id: 'examples', label: 'ğŸ“ ç¤ºä¾‹ä»£ç ' },
  { id: 'quiz', label: 'ğŸ¯ çŸ¥è¯†æ£€éªŒ' }
];

const activeTab = ref('theory');

// ç»ƒä¹ åŒºåŸŸçš„HTMLä»£ç 
const htmlCode = ref(`<h1>æˆ‘æ˜¯æ ‡é¢˜</h1>
<p>è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚</p>
<ul>
  <li>åˆ—è¡¨é¡¹1</li>
  <li>åˆ—è¡¨é¡¹2</li>
</ul>`);

// æµ‹éªŒé¢˜ç›®
const quizQuestions = [
  {
    question: 'HTMLä¸­å“ªä¸ªæ ‡ç­¾ç”¨äºåˆ›å»ºæœ€å¤§çš„æ ‡é¢˜ï¼Ÿ',
    options: ['<heading>', '<h1>', '<title>', '<head>'],
    correct: 1
  },
  {
    question: 'å¦‚ä½•åœ¨HTMLä¸­åˆ›å»ºè¶…é“¾æ¥ï¼Ÿ',
    options: ['<link>', '<a>', '<url>', '<href>'],
    correct: 1
  },
  {
    question: 'HTMLä¸­å“ªä¸ªæ ‡ç­¾ç”¨äºæ’å…¥å›¾ç‰‡ï¼Ÿ',
    options: ['<image>', '<pic>', '<img>', '<photo>'],
    correct: 2
  },
  {
    question: '<!DOCTYPE html> çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ',
    options: [
      'å£°æ˜æ–‡æ¡£ç±»å‹ä¸ºHTML5',
      'è®¾ç½®é¡µé¢æ ‡é¢˜',
      'å¯¼å…¥CSSæ ·å¼',
      'å®šä¹‰ç½‘é¡µå¸ƒå±€'
    ],
    correct: 0
  }
];

const userAnswers = ref<number[]>([]);
const showResults = ref(false);

const score = computed(() => {
  return quizQuestions.reduce((acc, q, idx) => {
    return acc + (userAnswers.value[idx] === q.correct ? 1 : 0);
  }, 0);
});

const checkAnswers = () => {
  if (showResults.value) {
    // é‡ç½®
    userAnswers.value = [];
    showResults.value = false;
  } else {
    showResults.value = true;
  }
};
</script>

<style scoped>
code {
  @apply bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono;
}
</style>
