<template>
  <div class="max-w-4xl mx-auto bg-white/90 dark:bg-gray-800/90 rounded-3xl p-6 md:p-8 border border-blue-200 dark:border-blue-700 shadow-xl">
    <div class="flex items-start gap-4 mb-6">
      <div class="text-3xl">ğŸ¨</div>
      <div>
        <h3 class="text-xl font-bold text-gray-800 dark:text-gray-100">
          {{ isZh ? 'CSS åŸºç¡€å…¥é—¨' : 'CSS Fundamentals' }}
        </h3>
        <p class="text-sm text-gray-500 dark:text-gray-400">
          {{ isZh ? 'æŒæ¡ CSS æ ¸å¿ƒæ¦‚å¿µï¼Œä¸ºå­¦ä¹  Tailwind æ‰“ä¸‹åŸºç¡€ã€‚' : 'Master CSS core concepts, building foundation for Tailwind.' }}
        </p>
      </div>
    </div>

    <!-- Why CSS Matters -->
    <div class="bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl p-4 mb-6">
      <p class="text-sm font-bold text-blue-700 dark:text-blue-300 mb-2">ğŸ’¡ {{ isZh ? 'CSS ä¸ Tailwind çš„å…³ç³»' : 'CSS & Tailwind Relationship' }}</p>
      <ul class="text-xs text-gray-600 dark:text-gray-400 space-y-1">
        <li>âœ… {{ isZh ? 'Tailwind çš„å·¥å…·ç±»æœ¬è´¨æ˜¯ CSS å±æ€§çš„å°è£…' : 'Tailwind utilities are CSS property wrappers' }}</li>
        <li>âœ… {{ isZh ? 'ç†è§£ç›’æ¨¡å‹æ‰èƒ½ç”¨å¥½ p-4ã€m-2 ç­‰é—´è·ç±»' : 'Understanding box model helps with p-4, m-2 spacing classes' }}</li>
        <li>âœ… {{ isZh ? 'æŒæ¡å®šä½æ‰èƒ½ç”¨å¥½ absoluteã€relative ç­‰å·¥å…·ç±»' : 'Mastering positioning helps with absolute, relative utilities' }}</li>
      </ul>
    </div>

    <!-- Tabs -->
    <div class="flex flex-wrap gap-2 mb-6 border-b border-gray-200 dark:border-gray-700 pb-4">
      <button
        v-for="tab in tabs"
        :key="tab.id"
        @click="activeTab = tab.id"
        class="px-3 py-2 rounded-xl text-sm font-bold transition-colors"
        :class="activeTab === tab.id ? 'bg-blue-500 text-white' : 'bg-blue-50 dark:bg-gray-700 text-blue-600 dark:text-blue-300'"
      >
        {{ tab.label }}
      </button>
    </div>

    <!-- Tab 1: é€‰æ‹©å™¨ -->
    <div v-if="activeTab === 'selectors'" class="animate-fade-in space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="space-y-4">
          <div class="p-4 rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/40">
            <h4 class="font-bold text-gray-700 dark:text-gray-200 mb-3">{{ isZh ? 'é€‰æ‹©å™¨ç±»å‹' : 'Selector Types' }}</h4>
            
            <div class="space-y-2">
              <button
                v-for="sel in selectors"
                :key="sel.id"
                @click="selectedSelector = sel.id"
                class="w-full p-3 rounded-lg border text-left transition-all"
                :class="selectedSelector === sel.id ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/30' : 'border-gray-200 dark:border-gray-700'"
              >
                <div class="flex items-center justify-between">
                  <span class="font-mono font-bold text-blue-600 dark:text-blue-400">{{ sel.syntax }}</span>
                  <span class="text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700">{{ isZh ? sel.nameZh : sel.nameEn }}</span>
                </div>
                <p class="text-xs text-gray-500 mt-1">{{ isZh ? sel.descZh : sel.descEn }}</p>
              </button>
            </div>
          </div>

          <!-- Specificity Calculator -->
          <div class="p-4 rounded-2xl border border-gray-200 dark:border-gray-700">
            <h4 class="font-bold text-gray-700 dark:text-gray-200 mb-3">{{ isZh ? 'ä¼˜å…ˆçº§è®¡ç®—' : 'Specificity Calculator' }}</h4>
            <div class="grid grid-cols-4 gap-2 text-center text-xs">
              <div class="p-2 rounded bg-red-100 dark:bg-red-900/30">
                <div class="font-bold text-red-600">!important</div>
                <div class="text-gray-500">âˆ</div>
              </div>
              <div class="p-2 rounded bg-orange-100 dark:bg-orange-900/30">
                <div class="font-bold text-orange-600">style=""</div>
                <div class="text-gray-500">1000</div>
              </div>
              <div class="p-2 rounded bg-yellow-100 dark:bg-yellow-900/30">
                <div class="font-bold text-yellow-600">#id</div>
                <div class="text-gray-500">100</div>
              </div>
              <div class="p-2 rounded bg-green-100 dark:bg-green-900/30">
                <div class="font-bold text-green-600">.class</div>
                <div class="text-gray-500">10</div>
              </div>
            </div>
            <p class="text-xs text-gray-500 mt-3">
              {{ isZh ? 'Tailwind ä½¿ç”¨å·¥å…·ç±» (.class)ï¼Œä¼˜å…ˆçº§ä½ï¼Œä¾¿äºè¦†ç›–' : 'Tailwind uses utility classes (.class), low specificity, easy to override' }}
            </p>
          </div>
        </div>

        <div class="space-y-4">
          <div class="p-4 rounded-2xl bg-gray-900 text-green-200 font-mono text-xs leading-relaxed overflow-x-auto h-[300px]">
            <pre>{{ selectorCode }}</pre>
          </div>

          <!-- Sakura Notes Example -->
          <div class="p-4 rounded-2xl border border-sakura-200 dark:border-sakura-700 bg-sakura-50/50 dark:bg-sakura-900/20">
            <p class="text-xs font-bold text-sakura-700 dark:text-sakura-300 mb-2">ğŸŒ¸ {{ isZh ? 'æœ¬ç«™ Tailwind å¯¹åº”' : 'Tailwind Equivalent' }}</p>
            <pre class="text-xs font-mono bg-gray-900 text-green-300 p-3 rounded-lg overflow-x-auto"><!-- CSS å†™æ³• -->
.btn { padding: 1rem; }
.btn:hover { background: pink; }

<!-- Tailwind å†™æ³• -->
&lt;button class="p-4 hover:bg-sakura-300"&gt;
  Click me
&lt;/button&gt;</pre>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab 2: ç›’æ¨¡å‹ -->
    <div v-else-if="activeTab === 'box'" class="animate-fade-in space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="space-y-4">
          <!-- Interactive Box Model -->
          <div class="p-4 rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/40">
            <h4 class="font-bold text-gray-700 dark:text-gray-200 mb-3">{{ isZh ? 'äº¤äº’å¼ç›’æ¨¡å‹' : 'Interactive Box Model' }}</h4>
            
            <div class="flex justify-center mb-4">
              <!-- Visual Box Model -->
              <div 
                class="relative bg-orange-200 dark:bg-orange-800/50 transition-all"
                :style="{ padding: `${boxModel.margin}px` }"
              >
                <div class="text-[8px] absolute top-0 left-1/2 -translate-x-1/2 text-orange-700 dark:text-orange-300">margin</div>
                <div 
                  class="bg-yellow-200 dark:bg-yellow-800/50 transition-all"
                  :style="{ padding: `${boxModel.border}px`, borderWidth: `${boxModel.border}px`, borderColor: '#666', borderStyle: 'solid' }"
                >
                  <div class="text-[8px] absolute text-gray-600">border</div>
                  <div 
                    class="bg-green-200 dark:bg-green-800/50 transition-all"
                    :style="{ padding: `${boxModel.padding}px` }"
                  >
                    <div class="text-[8px] text-green-700 dark:text-green-300">padding</div>
                    <div class="w-20 h-12 bg-blue-300 dark:bg-blue-700 flex items-center justify-center text-xs font-bold text-blue-800 dark:text-blue-200">
                      content
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Controls -->
            <div class="space-y-3">
              <div>
                <label class="text-xs text-gray-500 flex justify-between">
                  <span>margin</span>
                  <span class="font-mono">{{ boxModel.margin }}px â†’ m-{{ boxModel.margin / 4 }}</span>
                </label>
                <input type="range" v-model.number="boxModel.margin" min="0" max="32" step="4" class="w-full accent-orange-500" />
              </div>
              <div>
                <label class="text-xs text-gray-500 flex justify-between">
                  <span>border</span>
                  <span class="font-mono">{{ boxModel.border }}px â†’ border-{{ boxModel.border }}</span>
                </label>
                <input type="range" v-model.number="boxModel.border" min="0" max="8" step="1" class="w-full accent-gray-500" />
              </div>
              <div>
                <label class="text-xs text-gray-500 flex justify-between">
                  <span>padding</span>
                  <span class="font-mono">{{ boxModel.padding }}px â†’ p-{{ boxModel.padding / 4 }}</span>
                </label>
                <input type="range" v-model.number="boxModel.padding" min="0" max="32" step="4" class="w-full accent-green-500" />
              </div>
            </div>
          </div>

          <!-- box-sizing -->
          <div class="p-4 rounded-2xl border border-gray-200 dark:border-gray-700">
            <h4 class="font-bold text-gray-700 dark:text-gray-200 mb-2">box-sizing</h4>
            <div class="flex gap-2">
              <button
                @click="boxSizing = 'content-box'"
                class="flex-1 p-2 rounded-lg text-xs font-bold border"
                :class="boxSizing === 'content-box' ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/30' : 'border-gray-300'"
              >
                content-box
              </button>
              <button
                @click="boxSizing = 'border-box'"
                class="flex-1 p-2 rounded-lg text-xs font-bold border"
                :class="boxSizing === 'border-box' ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/30' : 'border-gray-300'"
              >
                border-box âœ…
              </button>
            </div>
            <p class="text-xs text-gray-500 mt-2">
              {{ boxSizing === 'border-box' 
                ? (isZh ? 'Tailwind é»˜è®¤ä½¿ç”¨ border-boxï¼Œå®½åº¦åŒ…å« padding å’Œ border' : 'Tailwind uses border-box by default, width includes padding & border')
                : (isZh ? 'content-box æ˜¯æµè§ˆå™¨é»˜è®¤å€¼ï¼Œå®½åº¦åªæ˜¯å†…å®¹åŒº' : 'content-box is browser default, width is content only')
              }}
            </p>
          </div>
        </div>

        <div class="space-y-4">
          <div class="p-4 rounded-2xl bg-gray-900 text-green-200 font-mono text-xs leading-relaxed overflow-x-auto">
            <pre>{{ boxCode }}</pre>
          </div>

          <div class="p-4 rounded-2xl border border-sakura-200 dark:border-sakura-700 bg-sakura-50/50 dark:bg-sakura-900/20">
            <p class="text-xs font-bold text-sakura-700 dark:text-sakura-300 mb-2">ğŸŒ¸ {{ isZh ? 'æœ¬ç«™æ ·å¼ç¤ºä¾‹' : 'From This Site' }}</p>
            <pre class="text-xs font-mono bg-gray-900 text-green-300 p-3 rounded-lg overflow-x-auto"><!-- AppHeader.vue -->
&lt;header class="p-4 m-2 border border-sakura-200"&gt;
  <!-- p-4 = padding: 1rem (16px) -->
  <!-- m-2 = margin: 0.5rem (8px) -->
  <!-- border = border-width: 1px -->
&lt;/header&gt;

<!-- å“åº”å¼é—´è· -->
&lt;div class="p-2 md:p-4 lg:p-6"&gt;
  <!-- ç§»åŠ¨ç«¯ 8px, å¹³æ¿ 16px, æ¡Œé¢ 24px -->
&lt;/div&gt;</pre>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab 3: æ–‡æœ¬ä¸é¢œè‰² -->
    <div v-else-if="activeTab === 'text'" class="animate-fade-in space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="space-y-4">
          <!-- Font Controls -->
          <div class="p-4 rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/40">
            <h4 class="font-bold text-gray-700 dark:text-gray-200 mb-3">{{ isZh ? 'å­—ä½“å±æ€§' : 'Font Properties' }}</h4>
            
            <div class="space-y-3">
              <div>
                <label class="text-xs text-gray-500">font-size</label>
                <div class="flex gap-2 mt-1">
                  <button
                    v-for="size in fontSizes"
                    :key="size.value"
                    @click="textDemo.fontSize = size.value"
                    class="px-2 py-1 rounded text-xs border"
                    :class="textDemo.fontSize === size.value ? 'border-blue-500 bg-blue-50' : 'border-gray-300'"
                  >
                    {{ size.label }}
                  </button>
                </div>
              </div>
              
              <div>
                <label class="text-xs text-gray-500">font-weight</label>
                <div class="flex gap-2 mt-1">
                  <button
                    v-for="weight in fontWeights"
                    :key="weight.value"
                    @click="textDemo.fontWeight = weight.value"
                    class="px-2 py-1 rounded text-xs border"
                    :class="textDemo.fontWeight === weight.value ? 'border-blue-500 bg-blue-50' : 'border-gray-300'"
                  >
                    {{ weight.label }}
                  </button>
                </div>
              </div>

              <div>
                <label class="text-xs text-gray-500">color</label>
                <div class="flex gap-2 mt-1">
                  <button
                    v-for="color in textColors"
                    :key="color.value"
                    @click="textDemo.color = color.value"
                    class="w-8 h-8 rounded-full border-2 transition-all"
                    :class="textDemo.color === color.value ? 'border-blue-500 scale-110' : 'border-gray-300'"
                    :style="{ backgroundColor: color.hex }"
                  ></button>
                </div>
              </div>
            </div>
          </div>

          <!-- Preview -->
          <div class="p-4 rounded-2xl border border-gray-200 dark:border-gray-700">
            <h4 class="font-bold text-gray-700 dark:text-gray-200 mb-3">{{ isZh ? 'é¢„è§ˆ' : 'Preview' }}</h4>
            <div 
              class="p-4 bg-white dark:bg-gray-900 rounded-lg"
              :style="{ 
                fontSize: textDemo.fontSize, 
                fontWeight: textDemo.fontWeight,
                color: textColors.find(c => c.value === textDemo.color)?.hex 
              }"
            >
              Sakura Notes ğŸŒ¸
            </div>
            <p class="text-xs text-gray-500 mt-2 font-mono">
              {{ textTailwindClass }}
            </p>
          </div>
        </div>

        <div class="space-y-4">
          <div class="p-4 rounded-2xl bg-gray-900 text-green-200 font-mono text-xs leading-relaxed overflow-x-auto">
            <pre>{{ textCode }}</pre>
          </div>

          <!-- Color Formats -->
          <div class="p-4 rounded-2xl border border-gray-200 dark:border-gray-700">
            <h4 class="font-bold text-gray-700 dark:text-gray-200 mb-3">{{ isZh ? 'é¢œè‰²è¡¨ç¤ºæ³•' : 'Color Formats' }}</h4>
            <div class="space-y-2 text-xs font-mono">
              <div class="flex justify-between">
                <span class="text-gray-500">HEX:</span>
                <span class="text-sakura-500">#f472b6</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-500">RGB:</span>
                <span class="text-sakura-500">rgb(244, 114, 182)</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-500">HSL:</span>
                <span class="text-sakura-500">hsl(330, 86%, 70%)</span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-500">Tailwind:</span>
                <span class="text-sakura-500">text-sakura-400</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab 4: å®šä½ä¸å±‚å  -->
    <div v-else-if="activeTab === 'position'" class="animate-fade-in space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="space-y-4">
          <!-- Position Types -->
          <div class="p-4 rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/40">
            <h4 class="font-bold text-gray-700 dark:text-gray-200 mb-3">{{ isZh ? 'position å±æ€§' : 'Position Property' }}</h4>
            
            <div class="space-y-2">
              <button
                v-for="pos in positions"
                :key="pos.id"
                @click="selectedPosition = pos.id"
                class="w-full p-3 rounded-lg border text-left transition-all"
                :class="selectedPosition === pos.id ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/30' : 'border-gray-200 dark:border-gray-700'"
              >
                <div class="flex items-center justify-between">
                  <span class="font-mono font-bold text-blue-600 dark:text-blue-400">{{ pos.id }}</span>
                  <span class="text-xs text-gray-500">{{ pos.tailwind }}</span>
                </div>
                <p class="text-xs text-gray-500 mt-1">{{ isZh ? pos.descZh : pos.descEn }}</p>
              </button>
            </div>
          </div>

          <!-- Visual Demo -->
          <div class="p-4 rounded-2xl border border-gray-200 dark:border-gray-700">
            <h4 class="font-bold text-gray-700 dark:text-gray-200 mb-3">{{ isZh ? 'å®šä½æ¼”ç¤º' : 'Position Demo' }}</h4>
            <div class="relative h-40 bg-gray-100 dark:bg-gray-900 rounded-lg overflow-hidden border-2 border-dashed border-gray-300">
              <div class="absolute top-2 left-2 text-[10px] text-gray-400">parent (relative)</div>
              
              <div 
                class="w-16 h-16 bg-sakura-400 rounded-lg flex items-center justify-center text-white text-xs font-bold shadow-lg transition-all duration-300"
                :class="positionDemoClass"
              >
                child
              </div>
            </div>
            <p class="text-xs text-gray-500 mt-2 font-mono">
              {{ positionTailwindClass }}
            </p>
          </div>
        </div>

        <div class="space-y-4">
          <div class="p-4 rounded-2xl bg-gray-900 text-green-200 font-mono text-xs leading-relaxed overflow-x-auto">
            <pre>{{ positionCode }}</pre>
          </div>

          <!-- z-index explanation -->
          <div class="p-4 rounded-2xl border border-sakura-200 dark:border-sakura-700 bg-sakura-50/50 dark:bg-sakura-900/20">
            <p class="text-xs font-bold text-sakura-700 dark:text-sakura-300 mb-2">ğŸŒ¸ {{ isZh ? 'æœ¬ç«™å®šä½ç¤ºä¾‹' : 'From This Site' }}</p>
            <pre class="text-xs font-mono bg-gray-900 text-green-300 p-3 rounded-lg overflow-x-auto"><!-- SearchModal.vue - æ¨¡æ€æ¡† -->
&lt;div class="fixed inset-0 z-50"&gt;
  <!-- fixed: ç›¸å¯¹è§†å£å®šä½ -->
  <!-- inset-0: top/right/bottom/left: 0 -->
  <!-- z-50: æœ€é«˜å±‚çº§ -->
&lt;/div&gt;

<!-- AppHeader.vue - å›ºå®šå¤´éƒ¨ -->
&lt;header class="sticky top-0 z-40"&gt;
  <!-- sticky: æ»šåŠ¨æ—¶å›ºå®š -->
&lt;/header&gt;

<!-- å·¥å…·æç¤º -->
&lt;div class="relative group"&gt;
  &lt;span class="absolute -top-8 opacity-0 
               group-hover:opacity-100"&gt;
    Tooltip
  &lt;/span&gt;
&lt;/div&gt;</pre>
          </div>
        </div>
      </div>
    </div>

  </div>
</template>

<script setup lang="ts">
import { computed, ref, reactive } from 'vue';

const props = defineProps<{ lang: 'en' | 'zh' }>();
const isZh = computed(() => props.lang === 'zh');

const tabs = computed(() => [
  { id: 'selectors', label: isZh.value ? 'é€‰æ‹©å™¨' : 'Selectors' },
  { id: 'box', label: isZh.value ? 'ç›’æ¨¡å‹' : 'Box Model' },
  { id: 'text', label: isZh.value ? 'æ–‡æœ¬ä¸é¢œè‰²' : 'Text & Color' },
  { id: 'position', label: isZh.value ? 'å®šä½ä¸å±‚å ' : 'Position' }
]);

const activeTab = ref('selectors');

// Tab 1: Selectors
const selectedSelector = ref('class');
const selectors = [
  { id: 'element', syntax: 'div', nameZh: 'å…ƒç´ é€‰æ‹©å™¨', nameEn: 'Element', descZh: 'é€‰æ‹©æ‰€æœ‰è¯¥æ ‡ç­¾', descEn: 'Selects all tags' },
  { id: 'class', syntax: '.class', nameZh: 'ç±»é€‰æ‹©å™¨', nameEn: 'Class', descZh: 'æœ€å¸¸ç”¨ï¼Œå¯å¤ç”¨', descEn: 'Most common, reusable' },
  { id: 'id', syntax: '#id', nameZh: 'IDé€‰æ‹©å™¨', nameEn: 'ID', descZh: 'å”¯ä¸€å…ƒç´ ï¼Œä¼˜å…ˆçº§é«˜', descEn: 'Unique, high specificity' },
  { id: 'attribute', syntax: '[attr]', nameZh: 'å±æ€§é€‰æ‹©å™¨', nameEn: 'Attribute', descZh: 'æŒ‰å±æ€§ç­›é€‰', descEn: 'Filter by attribute' },
  { id: 'pseudo', syntax: ':hover', nameZh: 'ä¼ªç±»é€‰æ‹©å™¨', nameEn: 'Pseudo-class', descZh: 'çŠ¶æ€å˜åŒ–', descEn: 'State changes' },
  { id: 'child', syntax: 'A > B', nameZh: 'å­å…ƒç´ é€‰æ‹©å™¨', nameEn: 'Child', descZh: 'ç›´æ¥å­å…ƒç´ ', descEn: 'Direct children' }
];

const selectorCode = computed(() => {
  const examples: Record<string, string> = {
    element: `/* å…ƒç´ é€‰æ‹©å™¨ - é€‰ä¸­æ‰€æœ‰ <div> */
div {
  margin: 10px;
}

/* Tailwind ä¸ç›´æ¥æ”¯æŒï¼Œéœ€ç”¨ @layer */
@layer base {
  h1 { font-size: 2rem; }
}`,
    class: `/* ç±»é€‰æ‹©å™¨ - æœ€å¸¸ç”¨ âœ¨ */
.btn {
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
}

.btn-primary {
  background: #f472b6;
  color: white;
}

/* Tailwind æœ¬è´¨æ˜¯å¤§é‡é¢„å®šä¹‰çš„ç±» */
/* .p-4 { padding: 1rem; } */
/* .rounded-lg { border-radius: 0.5rem; } */`,
    id: `/* ID é€‰æ‹©å™¨ - ä¼˜å…ˆçº§é«˜ */
#app {
  min-height: 100vh;
}

#header {
  position: sticky;
  top: 0;
}

/* âš ï¸ å°½é‡å°‘ç”¨ ID é€‰æ‹©å™¨ */
/* å› ä¸ºä¼˜å…ˆçº§å¤ªé«˜ï¼Œéš¾ä»¥è¦†ç›– */`,
    attribute: `/* å±æ€§é€‰æ‹©å™¨ */
[type="text"] {
  border: 1px solid gray;
}

/* åŒ…å«æŸå€¼ */
[class*="btn"] {
  cursor: pointer;
}

/* ä»¥æŸå€¼å¼€å¤´ */
[href^="https"] {
  color: green;
}

/* ä»¥æŸå€¼ç»“å°¾ */
[src$=".png"] {
  border-radius: 8px;
}`,
    pseudo: `/* ä¼ªç±»é€‰æ‹©å™¨ - äº¤äº’çŠ¶æ€ */
.btn:hover {
  background: #f9a8d4;
}

.btn:active {
  transform: scale(0.95);
}

.input:focus {
  outline: 2px solid #f472b6;
}

/* Tailwind å†™æ³• */
/* hover:bg-sakura-300 */
/* active:scale-95 */
/* focus:outline-sakura-500 */`,
    child: `/* ç»„åˆé€‰æ‹©å™¨ */

/* åä»£é€‰æ‹©å™¨ (æ‰€æœ‰åä»£) */
.card p { color: gray; }

/* å­å…ƒç´ é€‰æ‹©å™¨ (ç›´æ¥å­å…ƒç´ ) */
.list > li { border-bottom: 1px solid; }

/* ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨ */
h2 + p { margin-top: 0; }

/* Tailwind ç”¨ group/peer æ¨¡æ‹Ÿ */
/* group-hover:opacity-100 */`
  };
  return examples[selectedSelector.value] || '';
});

// Tab 2: Box Model
const boxModel = reactive({
  margin: 16,
  border: 2,
  padding: 16
});
const boxSizing = ref<'content-box' | 'border-box'>('border-box');

const boxCode = computed(() => `/* CSS ç›’æ¨¡å‹ */

/* å®Œæ•´å†™æ³• */
.box {
  margin: ${boxModel.margin}px;
  border: ${boxModel.border}px solid #666;
  padding: ${boxModel.padding}px;
  width: 200px;
  box-sizing: ${boxSizing.value};
}

/* Tailwind å¯¹åº” */
.box {
  @apply m-${boxModel.margin / 4} 
         border-${boxModel.border} 
         p-${boxModel.padding / 4} 
         w-[200px];
}

/* ç®€å†™å±æ€§ */
margin: 10px 20px;      /* ä¸Šä¸‹ å·¦å³ */
margin: 10px 20px 30px; /* ä¸Š å·¦å³ ä¸‹ */
margin: 10px 20px 30px 40px; /* ä¸Šå³ä¸‹å·¦ */

/* Tailwind åˆ†æ–¹å‘ */
mt-4  /* margin-top */
mx-4  /* margin-left + margin-right */
py-2  /* padding-top + padding-bottom */`);

// Tab 3: Text & Color
const textDemo = reactive({
  fontSize: '16px',
  fontWeight: '400',
  color: 'gray'
});

const fontSizes = [
  { value: '12px', label: 'xs' },
  { value: '14px', label: 'sm' },
  { value: '16px', label: 'base' },
  { value: '20px', label: 'xl' },
  { value: '24px', label: '2xl' }
];

const fontWeights = [
  { value: '400', label: 'normal' },
  { value: '500', label: 'medium' },
  { value: '700', label: 'bold' }
];

const textColors = [
  { value: 'gray', hex: '#6b7280' },
  { value: 'sakura', hex: '#f472b6' },
  { value: 'blue', hex: '#3b82f6' },
  { value: 'green', hex: '#22c55e' }
];

const textTailwindClass = computed(() => {
  const sizeMap: Record<string, string> = {
    '12px': 'text-xs',
    '14px': 'text-sm',
    '16px': 'text-base',
    '20px': 'text-xl',
    '24px': 'text-2xl'
  };
  const weightMap: Record<string, string> = {
    '400': 'font-normal',
    '500': 'font-medium',
    '700': 'font-bold'
  };
  const colorMap: Record<string, string> = {
    gray: 'text-gray-500',
    sakura: 'text-sakura-400',
    blue: 'text-blue-500',
    green: 'text-green-500'
  };
  return `${sizeMap[textDemo.fontSize]} ${weightMap[textDemo.fontWeight]} ${colorMap[textDemo.color]}`;
});

const textCode = computed(() => `/* æ–‡æœ¬æ ·å¼ */

/* å­—ä½“å¤§å° */
font-size: 16px;        /* Tailwind: text-base */
font-size: 1.25rem;     /* Tailwind: text-xl */

/* å­—ä½“ç²—ç»† */
font-weight: 400;       /* Tailwind: font-normal */
font-weight: 700;       /* Tailwind: font-bold */

/* é¢œè‰² */
color: #f472b6;         /* Tailwind: text-sakura-400 */
background: #fdf2f8;    /* Tailwind: bg-sakura-50 */

/* æ–‡æœ¬å¯¹é½ */
text-align: center;     /* Tailwind: text-center */
text-align: justify;    /* Tailwind: text-justify */

/* è¡Œé«˜ */
line-height: 1.5;       /* Tailwind: leading-normal */
line-height: 2;         /* Tailwind: leading-loose */

/* æœ¬ç«™é¢œè‰²ç³»ç»Ÿ (index.html) */
/* sakura: {
  50: '#fdf2f8',
  100: '#fce7f3',
  ...
  500: '#f472b6',  // ä¸»è‰²è°ƒ
  ...
} */`);

// Tab 4: Position
const selectedPosition = ref('relative');
const positions = [
  { id: 'static', tailwind: '(default)', descZh: 'é»˜è®¤å€¼ï¼ŒæŒ‰æ–‡æ¡£æµæ’åˆ—', descEn: 'Default, normal flow' },
  { id: 'relative', tailwind: 'relative', descZh: 'ç›¸å¯¹è‡ªèº«åç§»ï¼Œä¿ç•™å ä½', descEn: 'Offset from self, keeps space' },
  { id: 'absolute', tailwind: 'absolute', descZh: 'ç›¸å¯¹å®šä½ç¥–å…ˆï¼Œè„±ç¦»æ–‡æ¡£æµ', descEn: 'Relative to positioned ancestor' },
  { id: 'fixed', tailwind: 'fixed', descZh: 'ç›¸å¯¹è§†å£ï¼Œæ»šåŠ¨æ—¶å›ºå®š', descEn: 'Relative to viewport, stays on scroll' },
  { id: 'sticky', tailwind: 'sticky', descZh: 'æ»šåŠ¨åˆ°é˜ˆå€¼æ—¶å›ºå®š', descEn: 'Sticks when scrolled to threshold' }
];

const positionDemoClass = computed(() => {
  const classes: Record<string, string> = {
    static: '',
    relative: 'relative top-4 left-4',
    absolute: 'absolute bottom-4 right-4',
    fixed: 'absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2',
    sticky: 'sticky top-0'
  };
  return classes[selectedPosition.value];
});

const positionTailwindClass = computed(() => {
  const classes: Record<string, string> = {
    static: 'class=""',
    relative: 'class="relative top-4 left-4"',
    absolute: 'class="absolute bottom-4 right-4"',
    fixed: 'class="fixed inset-0" æˆ– "fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"',
    sticky: 'class="sticky top-0"'
  };
  return classes[selectedPosition.value];
});

const positionCode = computed(() => {
  const examples: Record<string, string> = {
    static: `/* static - é»˜è®¤å€¼ */
.element {
  position: static;
  /* top/left/right/bottom æ— æ•ˆ */
}

/* æŒ‰ç…§æ­£å¸¸æ–‡æ¡£æµæ’åˆ— */`,
    relative: `/* relative - ç›¸å¯¹å®šä½ */
.element {
  position: relative;
  top: 16px;    /* å‘ä¸‹åç§» */
  left: 16px;   /* å‘å³åç§» */
}

/* Tailwind */
class="relative top-4 left-4"

/* ç‰¹ç‚¹ï¼š
   1. ç›¸å¯¹è‡ªèº«åŸä½ç½®åç§»
   2. åŸä½ç½®ä»å æ®ç©ºé—´
   3. å¸¸ä½œä¸º absolute å­å…ƒç´ çš„å‚ç…§ */`,
    absolute: `/* absolute - ç»å¯¹å®šä½ */
.parent {
  position: relative; /* å¿…é¡»! */
}

.child {
  position: absolute;
  bottom: 16px;
  right: 16px;
}

/* Tailwind */
class="absolute bottom-4 right-4"

/* ç‰¹ç‚¹ï¼š
   1. è„±ç¦»æ–‡æ¡£æµ
   2. ç›¸å¯¹æœ€è¿‘çš„å®šä½ç¥–å…ˆ
   3. å¸¸ç”¨äºå¾½æ ‡ã€å…³é—­æŒ‰é’® */`,
    fixed: `/* fixed - å›ºå®šå®šä½ */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 50;
}

/* Tailwind */
class="fixed inset-0 z-50"

/* å±…ä¸­æŠ€å·§ */
class="fixed top-1/2 left-1/2 
       -translate-x-1/2 -translate-y-1/2"

/* ç‰¹ç‚¹ï¼šç›¸å¯¹è§†å£ï¼Œæ»šåŠ¨ä¸åŠ¨ */`,
    sticky: `/* sticky - ç²˜æ€§å®šä½ */
.header {
  position: sticky;
  top: 0;
  z-index: 40;
}

/* Tailwind */
class="sticky top-0 z-40"

/* ç‰¹ç‚¹ï¼š
   1. æ­£å¸¸æµåŠ¨ç›´åˆ°åˆ°è¾¾é˜ˆå€¼
   2. åˆ°è¾¾é˜ˆå€¼åå›ºå®š
   3. çˆ¶å®¹å™¨æ»šå‡ºè§†å£åæ¢å¤ */

/* æœ¬ç«™ AppHeader.vue ä½¿ç”¨ sticky */`
  };
  return examples[selectedPosition.value] || '';
});
</script>
