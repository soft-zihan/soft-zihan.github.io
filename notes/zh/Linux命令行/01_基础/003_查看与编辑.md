# 👁️ 查看与编辑 (View & Edit)

Linux 哲学中，"一切皆文件"。掌握如何查看和编辑文件内容，是使用 Linux 的基本功。

## 1. 查看文件内容 (Viewing)

### cat - 一次性显示
- **`cat file.txt`**：打印文件所有内容到屏幕。
- **`cat -n file.txt`**：显示行号。
- **⚠️ 警告**：`cat` 会一次性输出所有内容。如果文件有几百 MB，你的终端可能会卡死。**小文件用 `cat`，大文件请务必使用 `less`**。

### less - 分页查看 (推荐)
- **`less file.txt`**：进入交互式查看模式。
- **口诀**：**Less is More** (Less 其实比 More 功能多)。
- **核心操作**：
  - `空格` / `f`：向下翻一页。
  - `b`：向上翻一页。
  - `j` / `k`：像 Vim 一样上下滚动一行。
  - `/keyword`：搜索关键词 (按 `n` 找下一个，`N` 找上一个)。
  - `q`：**退出**。

### head / tail - 掐头去尾
- **`head -n 20 file.txt`**：查看前 20 行。
- **`tail -n 20 file.txt`**：查看后 20 行。
- **`tail -f access.log`**：**实时追踪**文件追加内容。
  - **场景**：监控服务器日志，看最新的报错信息。
  - **停止**：按 `Ctrl + C`。
  - **小升级**：如果日志会轮转（文件被切走重建），用 **`tail -F access.log`** 更稳（会自动重新跟随新文件）。

### less 的“追更模式”
你也可以用 `less` 实现类似 `tail -f` 的效果，但保留分页、搜索等能力：
- `less +F access.log`：进入后自动滚动追踪新增内容。
- `Ctrl + C`：停止滚动，但**仍留在 less** 中（此时可 `/Error` 搜索）。
- `Shift + F`：再次进入追更模式。

> 💡 **Pro Tip: 现代化替代品**
> 尝试安装 **`bat`** 替代 `cat`。它支持语法高亮、自动分页和 Git 变更标记，颜值极高。

---

## 2. 终端编辑器 (Editing)

在服务器上，你没有图形界面的 VS Code，必须掌握至少一种命令行编辑器。

### Nano - 新手友好 (极简)
如果你是第一次用 Linux，推荐先用 Nano。它的操作提示直接显示在屏幕底部。
- **启动**：`nano filename`
- **保存**：`Ctrl + O`，然后按回车确认文件名。
- **退出**：`Ctrl + X`。

### Vim - 编辑器之神 (必学)
Vim 学习曲线陡峭，但学会后效率极高。它是 Linux 系统标配，**必须掌握基础操作**，否则遇到只有 Vim 的环境会束手无策。

#### 核心概念：模式 (Modes)
初学者最困惑的是：**为什么我按键盘没反应？** 因为 Vim 默认处于 **普通模式**。

1. **普通模式 (Normal Mode)** - *默认模式*
   - 用于移动光标、删除文本、复制粘贴。
   - **任何时候按 `Esc` 都能回到这个模式。**

2. **插入模式 (Insert Mode)** - *打字模式*
   - 按 **`i`** 进入。此时你可以像记事本一样正常输入文字。

3. **命令模式 (Command Mode)** - *保存退出*
   - 在普通模式下按 **`:`** 进入。

#### ⚡ Vim 生存指南 (背下这 5 个键)
1. **进入编辑**：按 **`i`**。
2. **退出编辑**：按 **`Esc`**。
3. **保存并退出**：输入 **`:wq`** (Write & Quit) -> 回车。
4. **强制退出 (不保存)**：输入 **`:q!`** -> 回车 (改错了不想负责时用)。
5. **删除当前行**：(普通模式下) 按 **`dd`**。

#### 常用操作速查
- **移动**：`h`(左) `j`(下) `k`(上) `l`(右)。(也可以用方向键，但高手都用 hjkl)
- **撤销**：(普通模式下) 按 **`u`**。
- **搜索**：(普通模式下) 输入 `/keyword`，按 `n` 找下一个。
- **跳到行首/尾**：`0` / `$`。
- **跳到文件头/尾**：`gg` / `G`.

---

## 3. 总结
- **看小文件**：`cat`
- **看大文件**：`less`
- **看日志**：`tail -f`
- **简单编辑**：`nano`
- **专业编辑**：`vim`
